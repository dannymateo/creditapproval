# ==============================================================
# APPLICATION METADATA
# ==============================================================
spring.application.name=creditapproval

# ==============================================================
# SERVER CONFIGURATION
# ==============================================================
server.port=${SERVER_PORT:8080}

# ==============================================================
# FRONTEND CONFIGURATION
# ==============================================================
client.url=${CLIENT_URL:http://localhost:3000}

# ==============================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ==============================================================

# Connection (reads from environment variables)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/creditapproval}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate
# Show SQL in logs (disable in production)
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}

# Format queries for readability
spring.jpa.properties.hibernate.format_sql=${SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL:true}

# Schema generation strategy (use 'validate' in production)
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}

# Hibernate dialect
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# PostgreSQL compatibility for UUID and LOB
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.proc.param_null_passing=true


# ==============================================================
# SECURITY CONFIGURATION
# ==============================================================
security.login.max-attempts=5
security.login.lock-time-minutes=15


# ==============================================================
# JWT CONFIGURATION
# ==============================================================
# IMPORTANT: Always set JWT_SECRET environment variable in production
jwt.secret=${JWT_SECRET:pl4tz1_p1zz4_super_secret_key_change_me_in_production}

# Expiration times (in milliseconds for consistency)
jwt.access-token.expiration-minutes=30
jwt.refresh-token.expiration-days=7
jwt.expiration=${JWT_EXPIRATION:86400000}


# ==============================================================
# EMAIL CONFIGURATION
# ==============================================================
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.protocol=${SPRING_MAIL_PROTOCOL:smtp}

# SMTP Properties
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE:true}
spring.mail.properties.mail.smtp.ssl.enable=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_SSL_ENABLE:false}
spring.mail.properties.mail.smtp.ssl.trust=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_SSL_TRUST:smtp.gmail.com}
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000


# ==============================================================
# SWAGGER / OPENAPI CONFIGURATION
# ==============================================================
# API Docs path: http://localhost:8080/api-docs
springdoc.api-docs.path=/api-docs

# Sort endpoints and tags alphabetically
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha

# Swagger UI path: http://localhost:8080/swagger-ui.html
springdoc.swagger-ui.path=/swagger-ui.html